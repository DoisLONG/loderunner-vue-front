{"remainingRequest":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js!/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daocloud_j/git/loderunner-vue-front/src/views/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daocloud_j/git/loderunner-vue-front/src/views/Cart.vue","mtime":1591819548000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAidmFudC9lcy90b2FzdC9zdHlsZSI7CmltcG9ydCBfVG9hc3QgZnJvbSAidmFudC9lcy90b2FzdCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IG5hdkJhciBmcm9tICdAL2NvbXBvbmVudHMvTmF2QmFyJzsKaW1wb3J0IHNIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL1NpbXBsZUhlYWRlcic7CmltcG9ydCB7IGdldENhcnQsIGRlbGV0ZUNhcnRJdGVtLCBtb2RpZnlDYXJ0IH0gZnJvbSAnLi4vc2VydmljZS9jYXJ0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVja2VkOiBmYWxzZSwKICAgICAgbGlzdDogW10sCiAgICAgIGFsbDogZmFsc2UsCiAgICAgIHJlc3VsdDogW10sCiAgICAgIGNoZWNrQWxsOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgbmF2QmFyOiBuYXZCYXIsCiAgICBzSGVhZGVyOiBzSGVhZGVyCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHN1bSA9IDA7CgogICAgICB2YXIgX2xpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnJlc3VsdC5pbmNsdWRlcyhpdGVtLmNhcnRJdGVtSWQpOwogICAgICB9KTsKCiAgICAgIF9saXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBzdW0gKz0gaXRlbS5nb29kc0NvdW50ICogaXRlbS5zZWxsaW5nUHJpY2U7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHN1bTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfcmVmLCBkYXRhOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBpbml0JChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfVG9hc3QubG9hZGluZyh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywKICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZ2V0Q2FydCh7CiAgICAgICAgICAgICAgICBwYWdlTnVtYmVyOiAxCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgICAgICAgdGhpcy5saXN0ID0gZGF0YTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5jYXJ0SXRlbUlkOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfVG9hc3QuY2xlYXIoKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgZ29UbzogZnVuY3Rpb24gZ29UbygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICdob21lJwogICAgICB9KTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUsIGRldGFpbCkgewogICAgICB2YXIgcGFyYW1zLCBfcmVmMiwgZGF0YTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gb25DaGFuZ2UkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKHRoaXMubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmNhcnRJdGVtSWQgPT0gZGV0YWlsLm5hbWU7CiAgICAgICAgICAgICAgfSlbMF0uZ29vZHNDb3VudCA9PSB2YWx1ZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9Ub2FzdC5sb2FkaW5nKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnkuK0uLi4nLAogICAgICAgICAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgY2FydEl0ZW1JZDogZGV0YWlsLm5hbWUsCiAgICAgICAgICAgICAgICBnb29kc0NvdW50OiB2YWx1ZQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobW9kaWZ5Q2FydChwYXJhbXMpKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfcmVmMi5kYXRhOwogICAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jYXJ0SXRlbUlkID09IGRldGFpbC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uZ29vZHNDb3VudCA9IHZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfVG9hc3QuY2xlYXIoKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBwYXJhbXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gb25TdWJtaXQkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KHRoaXMucmVzdWx0KTsgLy8gZm9yKGxldCBpID0gMDsgaSA8IHRoaXMucmVzdWx0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgLy8gICBhd2FpdCBkZWxldGVDYXJ0SXRlbSh0aGlzLnJlc3VsdFtpXSkKICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICJjcmVhdGUtb3JkZXI/Y2FydEl0ZW1JZHM9Ii5jb25jYXQocGFyYW1zKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgZGVsZXRlR29vZDogZnVuY3Rpb24gZGVsZXRlR29vZChpZCkgewogICAgICB2YXIgX3JlZjMsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGRlbGV0ZUdvb2QkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGRlbGV0ZUNhcnRJdGVtKGlkKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3JlZjMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3JlZjMuZGF0YTsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXBkYXRlQ2FydCcpOwogICAgICAgICAgICAgIHRoaXMuaW5pdCgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgZ3JvdXBDaGFuZ2U6IGZ1bmN0aW9uIGdyb3VwQ2hhbmdlKHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PSB0aGlzLmxpc3QubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5jaGVja0FsbCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGVja0FsbCA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgIH0sCiAgICBhbGxDaGVjazogZnVuY3Rpb24gYWxsQ2hlY2sodmFsdWUpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrQWxsKSB7CiAgICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jYXJ0SXRlbUlkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVzdWx0ID0gW107CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"cart-box\">\n    <s-header :name=\"'购物车'\"></s-header>\n    <div class=\"cart-body\">\n      <van-checkbox-group @change=\"groupChange\" v-model=\"result\" ref=\"checkboxGroup\">\n        <van-swipe-cell :right-width=\"50\" v-for=\"(item, index) in list\" :key=\"index\">\n          <div class=\"good-item\">\n            <van-checkbox :name=\"item.cartItemId\" />\n            <div class=\"good-img\"><img :src=\"`//api.newbee.ltd${item.goodsCoverImg}`\" alt=\"\"></div>\n            <div class=\"good-desc\">\n              <div class=\"good-title\">\n                <span>{{ item.goodsName }}</span>\n                <span>x{{ item.goodsCount }}</span>\n              </div>\n              <div class=\"good-btn\">\n                <div class=\"price\">¥{{ item.sellingPrice }}</div>\n                <van-stepper\n                  integer\n                  :min=\"1\"\n                  :value=\"item.goodsCount\"\n                  :name=\"item.cartItemId\"\n                  async-change\n                  @change=\"onChange\"\n                />\n              </div>\n            </div>\n          </div>\n          <van-button\n            slot=\"right\"\n            square\n            icon=\"delete\"\n            type=\"danger\"\n            class=\"delete-button\"\n            @click=\"deleteGood(item.cartItemId)\"\n          />\n        </van-swipe-cell>\n      </van-checkbox-group>\n    </div>\n    <van-submit-bar\n      v-if=\"list.length > 0\"\n      class=\"submit-all\"\n      :price=\"total * 100\"\n      button-text=\"结算\"\n      @submit=\"onSubmit\"\n    >\n      <van-checkbox @click=\"allCheck\" v-model=\"checkAll\">全选</van-checkbox>\n    </van-submit-bar>\n    <div class=\"empty\" v-if=\"!list.length\">\n      <van-icon name=\"smile-o\" />\n      <div class=\"title\">购物车空空空如也</div>\n      <van-button color=\"#1baeae\" type=\"primary\" @click=\"goTo\" block>前往首页</van-button>\n    </div>\n    <nav-bar></nav-bar>\n  </div>\n</template>\n\n<script>\nimport { Toast } from 'vant'\nimport navBar from '@/components/NavBar'\nimport sHeader from '@/components/SimpleHeader'\nimport { getCart, deleteCartItem, modifyCart } from '../service/cart'\nexport default {\n  data() {\n    return {\n      checked: false,\n      list: [],\n      all: false,\n      result: [],\n      checkAll: true\n    }\n  },\n  components: {\n    navBar,\n    sHeader\n  },\n  mounted() {\n    this.init()\n  },\n  computed: {\n    total: function() {\n      let sum = 0\n      let _list = this.list.filter(item => this.result.includes(item.cartItemId))\n      _list.forEach(item => {\n        sum += item.goodsCount * item.sellingPrice\n      })\n      return sum\n    }\n  },\n  methods: {\n    async init() {\n      Toast.loading({ message: '加载中...', forbidClick: true });\n      const { data } = await getCart({ pageNumber: 1 })\n      this.list = data\n      this.result = data.map(item => item.cartItemId)\n      Toast.clear()\n    },\n    goBack() {\n      this.$router.go(-1)\n    },\n    goTo() {\n      this.$router.push({ path: 'home' })\n    },\n    async onChange(value, detail) {\n      if (this.list.filter(item => item.cartItemId == detail.name)[0].goodsCount == value) return\n      Toast.loading({ message: '修改中...', forbidClick: true });\n      const params = {\n        cartItemId: detail.name,\n        goodsCount: value\n      }\n      const { data } = await modifyCart(params)\n      this.list.forEach(item => {\n        if (item.cartItemId == detail.name) {\n          item.goodsCount = value\n        }\n      })\n      Toast.clear();\n    },\n    async onSubmit() {\n      const params = JSON.stringify(this.result)\n      // for(let i = 0; i < this.result.length; i++) {\n      //   await deleteCartItem(this.result[i])\n      // }\n      this.$router.push({ path: `create-order?cartItemIds=${params}` })\n    },\n    async deleteGood(id) {\n      const { data } = await deleteCartItem(id)\n      this.$store.dispatch('updateCart')\n      this.init()\n    },\n    groupChange(result) {\n      if (result.length == this.list.length) {\n        this.checkAll = true\n      } else {\n        this.checkAll = false\n      }\n      this.result = result\n    },\n    allCheck(value) {\n      if (!this.checkAll) {\n        this.result = this.list.map(item => item.cartItemId)\n      } else {\n        this.result = []\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .cart-box {\n    .cart-header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 10000;\n      .fj();\n      .wh(100%, 44px);\n      line-height: 44px;\n      padding: 0 10px;\n      .boxSizing();\n      color: #252525;\n      background: #fff;\n      border-bottom: 1px solid #dcdcdc;\n      .cart-name {\n        font-size: 14px;\n      }\n    }\n    .cart-body {\n      margin: 60px 0 100px 0;\n      padding-left: 10px;\n      .good-item {\n        display: flex;\n        .good-img {\n          img {\n            .wh(100px, 100px)\n          }\n        }\n        .good-desc {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          flex: 1;\n          padding: 20px;\n          .good-title {\n            display: flex;\n            justify-content: space-between;\n          }\n          .good-btn {\n            display: flex;\n            justify-content: space-between;\n            .price {\n              font-size: 16px;\n              color: red;\n              line-height: 28px;\n            }\n            .van-icon-delete {\n              font-size: 20px;\n              margin-top: 4px;\n            }\n          }\n        }\n      }\n      .delete-button {\n        width: 50px;\n        height: 100%;\n      }\n    }\n    .empty {\n      width: 50%;\n      margin: 0 auto;\n      text-align: center;\n      margin-top: 200px;\n      .van-icon-smile-o {\n        font-size: 50px;\n      }\n      .title {\n        font-size: 16px;\n        margin-bottom: 20px;\n      }\n    }\n    .submit-all {\n      margin-bottom: 50px;\n      .van-checkbox {\n        margin-left: 10px\n      }\n      .van-submit-bar__text {\n        margin-right: 10px\n      }\n      .van-submit-bar__button {\n        background: @primary;\n      }\n    }\n    .van-checkbox__icon--checked .van-icon {\n      background-color: @primary;\n      border-color: @primary;\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}