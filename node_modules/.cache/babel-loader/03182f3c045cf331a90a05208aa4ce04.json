{"remainingRequest":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js!/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daocloud_j/git/loderunner-vue-front/src/views/AddressEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daocloud_j/git/loderunner-vue-front/src/views/AddressEdit.vue","mtime":1591819548000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzIjsKaW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9kYW9jbG91ZF9qL2dpdC9sb2RlcnVubmVyLXZ1ZS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IHNIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL1NpbXBsZUhlYWRlcic7CmltcG9ydCB7IGFkZEFkZHJlc3MsIEVkaXRBZGRyZXNzLCBEZWxldGVBZGRyZXNzLCBnZXRBZGRyZXNzRGV0YWlsIH0gZnJvbSAnLi4vc2VydmljZS9hZGRyZXNzJzsKaW1wb3J0IHsgdGRpc3QgfSBmcm9tICdAL2NvbW1vbi9qcy91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBzSGVhZGVyOiBzSGVhZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXJlYUxpc3Q6IHsKICAgICAgICBwcm92aW5jZV9saXN0OiB7fSwKICAgICAgICBjaXR5X2xpc3Q6IHt9LAogICAgICAgIGNvdW50eV9saXN0OiB7fQogICAgICB9LAogICAgICBzZWFyY2hSZXN1bHQ6IFtdLAogICAgICB0eXBlOiAnYWRkJywKICAgICAgYWRkcmVzc0lkOiAnJywKICAgICAgYWRkcmVzc0luZm86IHt9LAogICAgICBmcm9tOiAnJwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBfcHJvdmluY2VfbGlzdCwgX2NpdHlfbGlzdCwgX2NvdW50eV9saXN0LCBfdGhpcyQkcm91dGUkcXVlcnksIGFkZHJlc3NJZCwgdHlwZSwgZnJvbSwgX3JlZiwgYWRkcmVzc0RldGFpbCwgX2FyZWFDb2RlLCBwcm92aW5jZTsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIG1vdW50ZWQkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAvLyDnnIHluILljLrliJfooajmnoTpgKAKICAgICAgICAgICAgX3Byb3ZpbmNlX2xpc3QgPSB7fTsKICAgICAgICAgICAgX2NpdHlfbGlzdCA9IHt9OwogICAgICAgICAgICBfY291bnR5X2xpc3QgPSB7fTsKICAgICAgICAgICAgdGRpc3QuZ2V0TGV2MSgpLmZvckVhY2goZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgICBfcHJvdmluY2VfbGlzdFtwLmlkXSA9IHAudGV4dDsKICAgICAgICAgICAgICB0ZGlzdC5nZXRMZXYyKHAuaWQpLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgICAgIF9jaXR5X2xpc3RbYy5pZF0gPSBjLnRleHQ7CiAgICAgICAgICAgICAgICB0ZGlzdC5nZXRMZXYzKGMuaWQpLmZvckVhY2goZnVuY3Rpb24gKHEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb3VudHlfbGlzdFtxLmlkXSA9IHEudGV4dDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5hcmVhTGlzdC5wcm92aW5jZV9saXN0ID0gX3Byb3ZpbmNlX2xpc3Q7CiAgICAgICAgICAgIHRoaXMuYXJlYUxpc3QuY2l0eV9saXN0ID0gX2NpdHlfbGlzdDsKICAgICAgICAgICAgdGhpcy5hcmVhTGlzdC5jb3VudHlfbGlzdCA9IF9jb3VudHlfbGlzdDsKICAgICAgICAgICAgX3RoaXMkJHJvdXRlJHF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnksIGFkZHJlc3NJZCA9IF90aGlzJCRyb3V0ZSRxdWVyeS5hZGRyZXNzSWQsIHR5cGUgPSBfdGhpcyQkcm91dGUkcXVlcnkudHlwZSwgZnJvbSA9IF90aGlzJCRyb3V0ZSRxdWVyeS5mcm9tOwogICAgICAgICAgICB0aGlzLmFkZHJlc3NJZCA9IGFkZHJlc3NJZDsKICAgICAgICAgICAgdGhpcy50eXBlID0gdHlwZTsKICAgICAgICAgICAgdGhpcy5mcm9tID0gZnJvbSB8fCAnJzsKCiAgICAgICAgICAgIGlmICghKHR5cGUgPT0gJ2VkaXQnKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldEFkZHJlc3NEZXRhaWwoYWRkcmVzc0lkKSk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgX3JlZiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGFkZHJlc3NEZXRhaWwgPSBfcmVmLmRhdGE7CiAgICAgICAgICAgIF9hcmVhQ29kZSA9ICcnOwogICAgICAgICAgICBwcm92aW5jZSA9IHRkaXN0LmdldExldjEoKTsKICAgICAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5hcmVhTGlzdC5jb3VudHlfbGlzdCkuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfc2xpY2VkVG9BcnJheShfcmVmMiwgMiksCiAgICAgICAgICAgICAgICAgIGlkID0gX3JlZjNbMF0sCiAgICAgICAgICAgICAgICAgIHRleHQgPSBfcmVmM1sxXTsKCiAgICAgICAgICAgICAgLy8g5YWI5om+5Ye65b2T5YmN5a+55bqU55qE5Yy6CiAgICAgICAgICAgICAgaWYgKHRleHQgPT0gYWRkcmVzc0RldGFpbC5yZWdpb25OYW1lKSB7CiAgICAgICAgICAgICAgICAvLyDmib7liLDljLrlr7nlupTnmoTlh6DkuKrnnIHku70KICAgICAgICAgICAgICAgIHZhciBwcm92aW5jZUluZGV4ID0gcHJvdmluY2UuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkLnN1YnN0cigwLCAyKSA9PSBpZC5zdWJzdHIoMCwgMik7CiAgICAgICAgICAgICAgICB9KTsgLy8g5om+5Yiw5Yy65a+55bqU55qE5Yeg5Liq5biC5Yy6CgogICAgICAgICAgICAgICAgdmFyIGNpdHlJdGVtID0gT2JqZWN0LmVudHJpZXMoX3RoaXMuYXJlYUxpc3QuY2l0eV9saXN0KS5maWx0ZXIoZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNSA9IF9zbGljZWRUb0FycmF5KF9yZWY0LCAyKSwKICAgICAgICAgICAgICAgICAgICAgIGNpdHlJZCA9IF9yZWY1WzBdLAogICAgICAgICAgICAgICAgICAgICAgY2l0eU5hbWUgPSBfcmVmNVsxXTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBjaXR5SWQuc3Vic3RyKDAsIDQpID09IGlkLnN1YnN0cigwLCA0KTsKICAgICAgICAgICAgICAgIH0pWzBdOyAvLyDlr7nmr5Tmib7liLDnmoTnnIHku73lkozmjqXlj6Pov5Tlm57nmoTnnIHku73mmK/lkKbnm7jnrYnvvIzlm6DkuLrmnInkuIDkupvljLrkvJrph43lkI0KCiAgICAgICAgICAgICAgICBpZiAocHJvdmluY2VbcHJvdmluY2VJbmRleF0udGV4dCA9PSBhZGRyZXNzRGV0YWlsLnByb3ZpbmNlTmFtZSAmJiBjaXR5SXRlbVsxXSA9PSBhZGRyZXNzRGV0YWlsLmNpdHlOYW1lKSB7CiAgICAgICAgICAgICAgICAgIF9hcmVhQ29kZSA9IGlkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuYWRkcmVzc0luZm8gPSB7CiAgICAgICAgICAgICAgaWQ6IGFkZHJlc3NEZXRhaWwuYWRkcmVzc0lkLAogICAgICAgICAgICAgIG5hbWU6IGFkZHJlc3NEZXRhaWwudXNlck5hbWUsCiAgICAgICAgICAgICAgdGVsOiBhZGRyZXNzRGV0YWlsLnVzZXJQaG9uZSwKICAgICAgICAgICAgICBwcm92aW5jZTogYWRkcmVzc0RldGFpbC5wcm92aW5jZU5hbWUsCiAgICAgICAgICAgICAgY2l0eTogYWRkcmVzc0RldGFpbC5jaXR5TmFtZSwKICAgICAgICAgICAgICBjb3VudHk6IGFkZHJlc3NEZXRhaWwucmVnaW9uTmFtZSwKICAgICAgICAgICAgICBhZGRyZXNzRGV0YWlsOiBhZGRyZXNzRGV0YWlsLmRldGFpbEFkZHJlc3MsCiAgICAgICAgICAgICAgYXJlYUNvZGU6IF9hcmVhQ29kZSwKICAgICAgICAgICAgICBpc0RlZmF1bHQ6ICEhYWRkcmVzc0RldGFpbC5kZWZhdWx0RmxhZwogICAgICAgICAgICB9OwoKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgbnVsbCwgdGhpcyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNhdmU6IGZ1bmN0aW9uIG9uU2F2ZShjb250ZW50KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcywgX3JlZjYsIG1lc3NhZ2U7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIG9uU2F2ZSQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgdXNlck5hbWU6IGNvbnRlbnQubmFtZSwKICAgICAgICAgICAgICAgIHVzZXJQaG9uZTogY29udGVudC50ZWwsCiAgICAgICAgICAgICAgICBwcm92aW5jZU5hbWU6IGNvbnRlbnQucHJvdmluY2UsCiAgICAgICAgICAgICAgICBjaXR5TmFtZTogY29udGVudC5jaXR5LAogICAgICAgICAgICAgICAgcmVnaW9uTmFtZTogY29udGVudC5jb3VudHksCiAgICAgICAgICAgICAgICBkZXRhaWxBZGRyZXNzOiBjb250ZW50LmFkZHJlc3NEZXRhaWwsCiAgICAgICAgICAgICAgICBkZWZhdWx0RmxhZzogY29udGVudC5pc0RlZmF1bHQgPyAxIDogMAogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gJ2VkaXQnKSB7CiAgICAgICAgICAgICAgICBwYXJhbXNbJ2FkZHJlc3NJZCddID0gdGhpcy5hZGRyZXNzSWQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLnR5cGUpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDIudDAgPT0gJ2FkZCcpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IGFkZEFkZHJlc3MocGFyYW1zKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IEVkaXRBZGRyZXNzKHBhcmFtcyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9yZWY2ID0gX2NvbnRleHQyLnQxOwogICAgICAgICAgICAgIG1lc3NhZ2UgPSBfcmVmNi5tZXNzYWdlOwoKICAgICAgICAgICAgICBfVG9hc3QoJ+S/neWtmOaIkOWKnycpOwoKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAiYWRkcmVzcz9mcm9tPSIuY29uY2F0KF90aGlzMi5mcm9tKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgb25EZWxldGU6IGZ1bmN0aW9uIG9uRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBfcmVmNywgZGF0YTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gb25EZWxldGUkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKERlbGV0ZUFkZHJlc3ModGhpcy5hZGRyZXNzSWQpKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfcmVmNyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfcmVmNy5kYXRhOwoKICAgICAgICAgICAgICBfVG9hc3QoJ+WIoOmZpOaIkOWKnycpOwoKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnYWRkcmVzcycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0sIDEwMDApOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AddressEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;AA8BA,OAAA,OAAA,MAAA,2BAAA;AACA,SAAA,UAAA,EAAA,WAAA,EAAA,aAAA,EAAA,gBAAA,QAAA,oBAAA;AACA,SAAA,KAAA,QAAA,mBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,aAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,WAAA,EAAA;AAHA,OADA;AAMA,MAAA,YAAA,EAAA,EANA;AAOA,MAAA,IAAA,EAAA,KAPA;AAQA,MAAA,SAAA,EAAA,EARA;AASA,MAAA,WAAA,EAAA,EATA;AAUA,MAAA,IAAA,EAAA;AAVA,KAAA;AAYA,GAjBA;AAkBA,EAAA,OAlBA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAmBA;AACA,YAAA,cApBA,GAoBA,EApBA;AAqBA,YAAA,UArBA,GAqBA,EArBA;AAsBA,YAAA,YAtBA,GAsBA,EAtBA;AAuBA,YAAA,KAAA,CAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,cAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAA,IAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,EAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,UAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAA,IAAA;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,EAAA,OAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,YAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAA,IAAA;AAAA,iBAAA;AACA,eAHA;AAIA,aANA;AAOA,iBAAA,QAAA,CAAA,aAAA,GAAA,cAAA;AACA,iBAAA,QAAA,CAAA,SAAA,GAAA,UAAA;AACA,iBAAA,QAAA,CAAA,WAAA,GAAA,YAAA;AAhCA,iCAkCA,KAAA,MAAA,CAAA,KAlCA,EAkCA,SAlCA,sBAkCA,SAlCA,EAkCA,IAlCA,sBAkCA,IAlCA,EAkCA,IAlCA,sBAkCA,IAlCA;AAmCA,iBAAA,SAAA,GAAA,SAAA;AACA,iBAAA,IAAA,GAAA,IAAA;AACA,iBAAA,IAAA,GAAA,IAAA,IAAA,EAAA;;AArCA,kBAsCA,IAAA,IAAA,MAtCA;AAAA;AAAA;AAAA;;AAAA;AAAA,4CAuCA,gBAAA,CAAA,SAAA,CAvCA;;AAAA;AAAA;AAuCA,YAAA,aAvCA,QAuCA,IAvCA;AAwCA,YAAA,SAxCA,GAwCA,EAxCA;AAyCA,YAAA,QAzCA,GAyCA,KAAA,CAAA,OAAA,EAzCA;AA0CA,YAAA,MAAA,CAAA,OAAA,CAAA,KAAA,QAAA,CAAA,WAAA,EAAA,OAAA,CAAA,iBAAA;AAAA;AAAA,kBAAA,EAAA;AAAA,kBAAA,IAAA;;AACA;AACA,kBAAA,IAAA,IAAA,aAAA,CAAA,UAAA,EAAA;AACA;AACA,oBAAA,aAAA,GAAA,QAAA,CAAA,SAAA,CAAA,UAAA,IAAA;AAAA,yBAAA,IAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,KAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,iBAAA,CAAA,CAFA,CAGA;;AACA,oBAAA,QAAA,GAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA,QAAA,CAAA,SAAA,EAAA,MAAA,CAAA;AAAA;AAAA,sBAAA,MAAA;AAAA,sBAAA,QAAA;;AAAA,yBAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,KAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,iBAAA,EAAA,CAAA,CAAA,CAJA,CAKA;;AACA,oBAAA,QAAA,CAAA,aAAA,CAAA,CAAA,IAAA,IAAA,aAAA,CAAA,YAAA,IAAA,QAAA,CAAA,CAAA,CAAA,IAAA,aAAA,CAAA,QAAA,EAAA;AACA,kBAAA,SAAA,GAAA,EAAA;AACA;AACA;AACA,aAZA;AAaA,iBAAA,WAAA,GAAA;AACA,cAAA,EAAA,EAAA,aAAA,CAAA,SADA;AAEA,cAAA,IAAA,EAAA,aAAA,CAAA,QAFA;AAGA,cAAA,GAAA,EAAA,aAAA,CAAA,SAHA;AAIA,cAAA,QAAA,EAAA,aAAA,CAAA,YAJA;AAKA,cAAA,IAAA,EAAA,aAAA,CAAA,QALA;AAMA,cAAA,MAAA,EAAA,aAAA,CAAA,UANA;AAOA,cAAA,aAAA,EAAA,aAAA,CAAA,aAPA;AAQA,cAAA,QAAA,EAAA,SARA;AASA,cAAA,SAAA,EAAA,CAAA,CAAA,aAAA,CAAA;AATA,aAAA;;AAvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoEA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,OADA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,MAFA,GAEA;AACA,gBAAA,QAAA,EAAA,OAAA,CAAA,IADA;AAEA,gBAAA,SAAA,EAAA,OAAA,CAAA,GAFA;AAGA,gBAAA,YAAA,EAAA,OAAA,CAAA,QAHA;AAIA,gBAAA,QAAA,EAAA,OAAA,CAAA,IAJA;AAKA,gBAAA,UAAA,EAAA,OAAA,CAAA,MALA;AAMA,gBAAA,aAAA,EAAA,OAAA,CAAA,aANA;AAOA,gBAAA,WAAA,EAAA,OAAA,CAAA,SAAA,GAAA,CAAA,GAAA;AAPA,eAFA;;AAWA,kBAAA,KAAA,IAAA,IAAA,MAAA,EAAA;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,GAAA,KAAA,SAAA;AACA;;AAbA;AAAA,8CAcA,KAAA,IAdA;;AAAA;AAAA;;AAAA,oCAcA,KAdA;AAAA;AAAA;AAAA;;AAAA,6BAcA,UAAA,CAAA,MAAA,CAdA;AAAA;AAAA;;AAAA;AAAA,6BAcA,WAAA,CAAA,MAAA,CAdA;;AAAA;AAAA;AAcA,cAAA,OAdA,SAcA,OAdA;;AAeA,qBAAA,MAAA;;AACA,cAAA,UAAA,CAAA,YAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,yBAAA,MAAA,CAAA,IAAA;AAAA,iBAAA;AACA,eAFA,EAEA,IAFA,CAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,IAAA,QArBA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAsBA,aAAA,CAAA,KAAA,SAAA,CAtBA;;AAAA;AAAA;AAsBA,cAAA,IAtBA,SAsBA,IAtBA;;AAuBA,qBAAA,MAAA;;AACA,cAAA,UAAA,CAAA,YAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AACA,eAFA,EAEA,IAFA,CAAA;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AApEA,CAAA","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"address-edit-box\">\n    <s-header :name=\"`${type == 'add' ? '新增地址' : '编辑地址'}`\"></s-header>\n    <van-address-edit\n      class=\"edit\"\n      :area-list=\"areaList\"\n      :address-info=\"addressInfo\"\n      :show-delete=\"type == 'edit'\"\n      show-set-default\n      show-search-result\n      :search-result=\"searchResult\"\n      :area-columns-placeholder=\"['请选择', '请选择', '请选择']\"\n      @save=\"onSave\"\n      @delete=\"onDelete\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Toast } from 'vant'\nimport sHeader from '@/components/SimpleHeader'\nimport { addAddress, EditAddress, DeleteAddress, getAddressDetail } from '../service/address'\nimport { tdist } from '@/common/js/utils'\nexport default {\n  components: {\n    sHeader\n  },\n  data() {\n    return {\n      areaList: {\n        province_list: {},\n        city_list: {},\n        county_list: {}\n      },\n      searchResult: [],\n      type: 'add',\n      addressId: '',\n      addressInfo: {},\n      from: ''\n    }\n  },\n  async mounted() {\n    // 省市区列表构造\n    let _province_list = {}\n    let _city_list = {}\n    let _county_list = {}\n    tdist.getLev1().forEach(p => {\n      _province_list[p.id] = p.text\n      tdist.getLev2(p.id).forEach(c => {\n        _city_list[c.id] = c.text\n        tdist.getLev3(c.id).forEach(q => _county_list[q.id] = q.text)\n      })\n    })\n    this.areaList.province_list = _province_list\n    this.areaList.city_list = _city_list\n    this.areaList.county_list = _county_list\n\n    const { addressId, type, from } = this.$route.query\n    this.addressId = addressId\n    this.type = type\n    this.from = from || ''\n    if (type == 'edit') {\n      const { data: addressDetail } = await getAddressDetail(addressId)\n      let _areaCode = ''\n      const province = tdist.getLev1()\n      Object.entries(this.areaList.county_list).forEach(([id, text]) => {\n        // 先找出当前对应的区\n        if (text == addressDetail.regionName) {\n          // 找到区对应的几个省份\n          const provinceIndex = province.findIndex(item => item.id.substr(0, 2) == id.substr(0, 2))\n          // 找到区对应的几个市区\n          const cityItem = Object.entries(this.areaList.city_list).filter(([cityId, cityName]) => cityId.substr(0, 4) == id.substr(0, 4))[0]\n          // 对比找到的省份和接口返回的省份是否相等，因为有一些区会重名\n          if (province[provinceIndex].text == addressDetail.provinceName && cityItem[1] == addressDetail.cityName) {\n            _areaCode = id\n          }\n        }\n      })\n      this.addressInfo = {\n        id: addressDetail.addressId,\n        name: addressDetail.userName,\n        tel: addressDetail.userPhone,\n        province: addressDetail.provinceName,\n        city: addressDetail.cityName,\n        county: addressDetail.regionName,\n        addressDetail: addressDetail.detailAddress,\n        areaCode: _areaCode,\n        isDefault: !!addressDetail.defaultFlag\n      }\n    }\n  },\n  methods: {\n    async onSave(content) {\n      const params = {\n        userName: content.name,\n        userPhone: content.tel,\n        provinceName: content.province,\n        cityName: content.city,\n        regionName: content.county,\n        detailAddress: content.addressDetail,\n        defaultFlag: content.isDefault ? 1 : 0,\n      }\n      if (this.type == 'edit') {\n        params['addressId'] = this.addressId\n      }\n      const { message } = await this.type == 'add' ? addAddress(params) : EditAddress(params)\n      Toast('保存成功')\n      setTimeout(() => {\n        this.$router.push({ path: `address?from=${this.from}` })\n      }, 1000)\n\n    },\n    async onDelete() {\n      const { data } = await DeleteAddress(this.addressId)\n      Toast('删除成功')\n      setTimeout(() => {\n        this.$router.push({ path: 'address' })\n      }, 1000)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .address-edit-box {\n    margin-top: 44px;\n    .van-address-edit {\n      .van-button--danger {\n        background: @primary;\n        border-color: @primary;\n      }\n      .van-switch--on {\n        background: @primary;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}