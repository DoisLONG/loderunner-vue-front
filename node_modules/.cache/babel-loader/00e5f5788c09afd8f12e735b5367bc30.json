{"remainingRequest":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js!/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daocloud_j/git/loderunner-vue-front/src/views/CreateOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daocloud_j/git/loderunner-vue-front/src/views/CreateOrder.vue","mtime":1591819548000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInZhbnQvZXMvdG9hc3Qvc3R5bGUiOwppbXBvcnQgX1RvYXN0IGZyb20gInZhbnQvZXMvdG9hc3QiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBzSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9TaW1wbGVIZWFkZXInOwppbXBvcnQgeyBnZXRDYXJ0LCBnZXRCeUNhcnRJdGVtSWRzIH0gZnJvbSAnLi4vc2VydmljZS9jYXJ0JzsKaW1wb3J0IHsgZ2V0RGVmYXVsdEFkZHJlc3MsIGdldEFkZHJlc3NEZXRhaWwgfSBmcm9tICcuLi9zZXJ2aWNlL2FkZHJlc3MnOwppbXBvcnQgeyBjcmVhdGVPcmRlciBhcyBfY3JlYXRlT3JkZXIsIHBheU9yZGVyIGFzIF9wYXlPcmRlciB9IGZyb20gJy4uL3NlcnZpY2Uvb3JkZXInOwppbXBvcnQgeyBzZXRMb2NhbCwgZ2V0TG9jYWwgfSBmcm9tICdAL2NvbW1vbi9qcy91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBzSGVhZGVyOiBzSGVhZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FydExpc3Q6IFtdLAogICAgICBhZGRyZXNzOiB7fSwKICAgICAgc2hvd1BheTogZmFsc2UsCiAgICAgIG9yZGVyTm86ICcnLAogICAgICBjYXJ0SXRlbUlkczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXMkJHJvdXRlJHF1ZXJ5LCBhZGRyZXNzSWQsIGNhcnRJdGVtSWRzLCBfY2FydEl0ZW1JZHMsIF9yZWYsIGxpc3QsIF9yZWYyLCBhZGRyZXNzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBpbml0JChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfVG9hc3QubG9hZGluZyh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywKICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF90aGlzJCRyb3V0ZSRxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LCBhZGRyZXNzSWQgPSBfdGhpcyQkcm91dGUkcXVlcnkuYWRkcmVzc0lkLCBjYXJ0SXRlbUlkcyA9IF90aGlzJCRyb3V0ZSRxdWVyeS5jYXJ0SXRlbUlkczsKICAgICAgICAgICAgICBfY2FydEl0ZW1JZHMgPSBjYXJ0SXRlbUlkcyA/IEpTT04ucGFyc2UoY2FydEl0ZW1JZHMpIDogSlNPTi5wYXJzZShnZXRMb2NhbCgnY2FydEl0ZW1JZHMnKSk7CiAgICAgICAgICAgICAgc2V0TG9jYWwoJ2NhcnRJdGVtSWRzJywgSlNPTi5zdHJpbmdpZnkoX2NhcnRJdGVtSWRzKSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChnZXRCeUNhcnRJdGVtSWRzKHsKICAgICAgICAgICAgICAgIGNhcnRJdGVtSWRzOiBfY2FydEl0ZW1JZHMuam9pbignLCcpCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGxpc3QgPSBfcmVmLmRhdGE7CgogICAgICAgICAgICAgIGlmICghYWRkcmVzc0lkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldEFkZHJlc3NEZXRhaWwoYWRkcmVzc0lkKSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldERlZmF1bHRBZGRyZXNzKCkpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9yZWYyID0gX2NvbnRleHQudDA7CiAgICAgICAgICAgICAgYWRkcmVzcyA9IF9yZWYyLmRhdGE7CgogICAgICAgICAgICAgIGlmIChhZGRyZXNzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICdhZGRyZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICB0aGlzLmNhcnRMaXN0ID0gbGlzdDsKICAgICAgICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzOwoKICAgICAgICAgICAgICBfVG9hc3QuY2xlYXIoKTsKCiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSwKICAgIGdvVG86IGZ1bmN0aW9uIGdvVG8oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiYWRkcmVzcz9jYXJ0SXRlbUlkcz0iLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLmNhcnRJdGVtSWRzKSkKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlTG9jYWw6IGZ1bmN0aW9uIGRlbGV0ZUxvY2FsKCkgewogICAgICBzZXRMb2NhbCgnY2FydEl0ZW1JZHMnLCAnJyk7CiAgICB9LAogICAgY3JlYXRlT3JkZXI6IGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKCkgewogICAgICB2YXIgcGFyYW1zLCBfcmVmMywgZGF0YSwgcmVzdWx0Q29kZTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gY3JlYXRlT3JkZXIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGFkZHJlc3NJZDogdGhpcy5hZGRyZXNzLmFkZHJlc3NJZCwKICAgICAgICAgICAgICAgIGNhcnRJdGVtSWRzOiB0aGlzLmNhcnRMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5jYXJ0SXRlbUlkOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9jcmVhdGVPcmRlcihwYXJhbXMpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfcmVmMyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfcmVmMy5kYXRhOwogICAgICAgICAgICAgIHJlc3VsdENvZGUgPSBfcmVmMy5yZXN1bHRDb2RlOwogICAgICAgICAgICAgIHNldExvY2FsKCdjYXJ0SXRlbUlkcycsICcnKTsKICAgICAgICAgICAgICB0aGlzLm9yZGVyTm8gPSBkYXRhOwogICAgICAgICAgICAgIHRoaXMuc2hvd1BheSA9IHRydWU7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnb3JkZXInCiAgICAgIH0pOwogICAgfSwKICAgIHBheU9yZGVyOiBmdW5jdGlvbiBwYXlPcmRlcih0eXBlKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gcGF5T3JkZXIkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9Ub2FzdC5sb2FkaW5nOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9wYXlPcmRlcih7CiAgICAgICAgICAgICAgICBvcmRlck5vOiB0aGlzLm9yZGVyTm8sCiAgICAgICAgICAgICAgICBwYXlUeXBlOiB0eXBlCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICdvcmRlcicKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCgpIHsKICAgICAgdmFyIHN1bSA9IDA7CiAgICAgIHRoaXMuY2FydExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHN1bSArPSBpdGVtLmdvb2RzQ291bnQgKiBpdGVtLnNlbGxpbmdQcmljZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBzdW07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CreateOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"create-order\">\n    <s-header :name=\"'生成订单'\" @callback=\"deleteLocal\"></s-header>\n    <div class=\"address-wrap\">\n      <div class=\"name\" @click=\"goTo\">\n        <span>{{ address.userName }} </span>\n        <span>{{ address.userPhone }}</span>\n      </div>\n      <div class=\"address\">\n        {{ address.provinceName }} {{ address.cityName }} {{ address.regionName }} {{ address.detailAddress }}\n      </div>\n      <van-icon class=\"arrow\" name=\"arrow\" />\n    </div>\n    <div class=\"good\">\n      <div class=\"good-item\" v-for=\"(item, index) in cartList\" :key=\"index\">\n        <div class=\"good-img\"><img :src=\"`//api.newbee.ltd${item.goodsCoverImg}`\" alt=\"\"></div>\n        <div class=\"good-desc\">\n          <div class=\"good-title\">\n            <span>{{ item.goodsName }}</span>\n            <span>x{{ item.goodsCount }}</span>\n          </div>\n          <div class=\"good-btn\">\n            <div class=\"price\">¥{{ item.sellingPrice }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"pay-wrap\">\n      <div class=\"price\">\n        <span>商品金额</span>\n        <span>¥{{ total }}</span>\n      </div>\n      <van-button @click=\"createOrder\" class=\"pay-btn\" color=\"#1baeae\" type=\"primary\" block>生成订单</van-button>\n    </div>\n    <van-popup\n      closeable\n      :close-on-click-overlay=\"false\"\n      v-model=\"showPay\"\n      position=\"bottom\"\n      :style=\"{ height: '30%' }\"\n      @close=\"close\"\n    >\n      <div :style=\"{ width: '90%', margin: '0 auto', padding: '50px 0' }\">\n        <van-button :style=\"{ marginBottom: '10px' }\" color=\"#1989fa\" block @click=\"payOrder(1)\">支付宝支付</van-button>\n        <van-button color=\"#4fc08d\" block @click=\"payOrder(2)\">微信支付</van-button>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport sHeader from '@/components/SimpleHeader'\nimport { getCart, getByCartItemIds } from '../service/cart'\nimport { getDefaultAddress, getAddressDetail } from '../service/address'\nimport { createOrder, payOrder } from '../service/order'\nimport { setLocal, getLocal } from '@/common/js/utils'\nimport { Toast } from 'vant'\nexport default {\n  components: {\n    sHeader\n  },\n  data() {\n    return {\n      cartList: [],\n      address: {},\n      showPay: false,\n      orderNo: '',\n      cartItemIds: []\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  methods: {\n    async init() {\n      Toast.loading({ message: '加载中...', forbidClick: true });\n      const { addressId, cartItemIds } = this.$route.query\n      const _cartItemIds = cartItemIds ? JSON.parse(cartItemIds) : JSON.parse(getLocal('cartItemIds'))\n      setLocal('cartItemIds', JSON.stringify(_cartItemIds))\n      const { data: list } = await getByCartItemIds({ cartItemIds: _cartItemIds.join(',') })\n      const { data: address } = addressId ? await getAddressDetail(addressId) : await getDefaultAddress()\n      if (!address) {\n        this.$router.push({ path: 'address' })\n        return\n      }\n      this.cartList = list\n      this.address = address\n      Toast.clear()\n    },\n    goTo() {\n      this.$router.push({ path: `address?cartItemIds=${JSON.stringify(this.cartItemIds)}` })\n    },\n    deleteLocal() {\n      setLocal('cartItemIds', '')\n    },\n    async createOrder() {\n      const params = {\n        addressId: this.address.addressId,\n        cartItemIds: this.cartList.map(item => item.cartItemId)\n      }\n      const { data, resultCode } = await createOrder(params)\n      setLocal('cartItemIds', '')\n      this.orderNo = data\n      this.showPay = true\n    },\n    close() {\n      this.$router.push({ path: 'order' })\n    },\n    async payOrder(type) {\n      Toast.loading\n      await payOrder({ orderNo: this.orderNo, payType: type })\n      this.$router.push({ path: 'order' })\n    }\n  },\n  computed: {\n    total: function() {\n      let sum = 0\n      this.cartList.forEach(item => {\n        sum += item.goodsCount * item.sellingPrice\n      })\n      return sum\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .create-order {\n    background: #f9f9f9;\n    .address-wrap {\n      margin-bottom: 20px;\n      background: #fff;\n      position: relative;\n      margin-top: 44px;\n      font-size: 14px;\n      padding: 15px;\n      color: #222333;\n      .name, .address {\n        margin: 10px 0;\n      }\n      .arrow {\n        position: absolute;\n        right: 10px;\n        top: 50%;\n        transform: translateY(-50%);\n        font-size: 20px;\n      }\n      &::before {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: 2px;\n        background: -webkit-repeating-linear-gradient(135deg, #ff6c6c 0, #ff6c6c 20%, transparent 0, transparent 25%, #1989fa 0, #1989fa 45%, transparent 0, transparent 50%);\n        background: repeating-linear-gradient(-45deg, #ff6c6c 0, #ff6c6c 20%, transparent 0, transparent 25%, #1989fa 0, #1989fa 45%, transparent 0, transparent 50%);\n        background-size: 80px;\n        content: '';\n      }\n    }\n    .good {\n      margin-bottom: 120px;\n    }\n    .good-item {\n      padding: 10px;\n      background: #fff;\n      display: flex;\n      .good-img {\n        img {\n          .wh(100px, 100px)\n        }\n      }\n      .good-desc {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        flex: 1;\n        padding: 20px;\n        .good-title {\n          display: flex;\n          justify-content: space-between;\n        }\n        .good-btn {\n          display: flex;\n          justify-content: space-between;\n          .price {\n            font-size: 16px;\n            color: red;\n            line-height: 28px;\n          }\n          .van-icon-delete {\n            font-size: 20px;\n            margin-top: 4px;\n          }\n        }\n      }\n    }\n    .pay-wrap {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      background: #fff;\n      padding: 10px 0;\n      padding-bottom: 50px;\n      border-top: 1px solid #e9e9e9;\n      >div {\n        display: flex;\n        justify-content: space-between;\n        padding: 0 5%;\n        margin: 10px 0;\n        font-size: 14px;\n        span:nth-child(2) {\n          color: red;\n          font-size: 18px;\n        }\n      }\n      .pay-btn {\n        position: fixed;\n        bottom: 7px;\n        right: 0;\n        left: 0;\n        width: 90%;\n        margin: 0 auto;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}