{"remainingRequest":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js!/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daocloud_j/git/loderunner-vue-front/src/views/Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daocloud_j/git/loderunner-vue-front/src/views/Setting.vue","mtime":1591819548000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAidmFudC9lcy90b2FzdC9zdHlsZSI7CmltcG9ydCBfVG9hc3QgZnJvbSAidmFudC9lcy90b2FzdCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHNIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL1NpbXBsZUhlYWRlcic7CmltcG9ydCB7IGdldFVzZXJJbmZvLCBFZGl0VXNlckluZm8sIGxvZ291dCBhcyBfbG9nb3V0IH0gZnJvbSAnLi4vc2VydmljZS91c2VyJzsKaW1wb3J0IHsgc2V0TG9jYWwgfSBmcm9tICdAL2NvbW1vbi9qcy91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBzSGVhZGVyOiBzSGVhZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmlja05hbWU6ICcnLAogICAgICBpbnRyb2R1Y2VTaWduOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfcmVmLCBkYXRhOwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gbW91bnRlZCQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldFVzZXJJbmZvKCkpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgX3JlZiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgICAgIHRoaXMubmlja05hbWUgPSBkYXRhLm5pY2tOYW1lOwogICAgICAgICAgICB0aGlzLmludHJvZHVjZVNpZ24gPSBkYXRhLmludHJvZHVjZVNpZ247CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG51bGwsIHRoaXMpOwogIH0sCiAgbWV0aG9kczogewogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIHBhcmFtcywgX3JlZjIsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHNhdmUkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGludHJvZHVjZVNpZ246IHRoaXMuaW50cm9kdWNlU2lnbiwKICAgICAgICAgICAgICAgIG5pY2tOYW1lOiB0aGlzLm5pY2tOYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmRNZDU6IHRoaXMuJG1kNSh0aGlzLnBhc3N3b3JkKQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoRWRpdFVzZXJJbmZvKHBhcmFtcykpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9yZWYyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF9yZWYyLmRhdGE7CgogICAgICAgICAgICAgIF9Ub2FzdC5zdWNjZXNzKCfkv53lrZjmiJDlip8nKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB2YXIgX3JlZjMsIHJlc3VsdENvZGU7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGxvZ291dCQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoX2xvZ291dCgpKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfcmVmMyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHJlc3VsdENvZGUgPSBfcmVmMy5yZXN1bHRDb2RlOwoKICAgICAgICAgICAgICBpZiAocmVzdWx0Q29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIHNldExvY2FsKCd0b2tlbicsICcnKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,OAAA,MAAA,2BAAA;AACA,SAAA,WAAA,EAAA,YAAA,EAAA,MAAA,IAAA,OAAA,QAAA,iBAAA;AACA,SAAA,QAAA,QAAA,mBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAVA;AAWA,EAAA,OAXA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAYA,WAAA,EAZA;;AAAA;AAAA;AAYA,YAAA,IAZA,QAYA,IAZA;AAaA,iBAAA,QAAA,GAAA,IAAA,CAAA,QAAA;AACA,iBAAA,aAAA,GAAA,IAAA,CAAA,aAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,MAFA,GAEA;AACA,gBAAA,aAAA,EAAA,KAAA,aADA;AAEA,gBAAA,QAAA,EAAA,KAAA,QAFA;AAGA,gBAAA,WAAA,EAAA,KAAA,IAAA,CAAA,KAAA,QAAA;AAHA,eAFA;AAAA;AAAA,8CAOA,YAAA,CAAA,MAAA,CAPA;;AAAA;AAAA;AAOA,cAAA,IAPA,SAOA,IAPA;;AAQA,qBAAA,OAAA,CAAA,MAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,IAAA,MAVA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAWA,OAAA,EAXA;;AAAA;AAAA;AAWA,cAAA,UAXA,SAWA,UAXA;;AAYA,kBAAA,UAAA,IAAA,GAAA,EAAA;AACA,gBAAA,QAAA,CAAA,OAAA,EAAA,EAAA,CAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA;AACA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhBA,CAAA","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"seting-box\">\n    <s-header :name=\"'账号管理'\"></s-header>\n    <div class=\"input-item\">\n      <van-field v-model=\"nickName\" label=\"昵称\" />\n      <van-field v-model=\"introduceSign\" label=\"个性签名\" />\n      <van-field v-model=\"password\" type='password' label=\"修改密码\" />\n    </div>\n    <van-button class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"save\" block>保存</van-button>\n    <van-button class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"logout\" block>退出登录</van-button>\n  </div>\n</template>\n\n<script>\nimport sHeader from '@/components/SimpleHeader'\nimport { getUserInfo, EditUserInfo, logout } from '../service/user'\nimport { setLocal } from '@/common/js/utils'\nimport { Toast } from 'vant'\nexport default {\n  components: {\n    sHeader\n  },\n  data() {\n    return {\n      nickName: '',\n      introduceSign: '',\n      password: ''\n    }\n  },\n  async mounted() {\n    const { data } = await getUserInfo()\n    this.nickName = data.nickName\n    this.introduceSign = data.introduceSign\n  },\n  methods: {\n    async save() {\n      const params = {\n        introduceSign: this.introduceSign,\n        nickName: this.nickName,\n        passwordMd5: this.$md5(this.password)\n      }\n      const { data } = await EditUserInfo(params)\n      Toast.success('保存成功')\n    },\n    async logout() {\n      const { resultCode } = await logout()\n      if (resultCode == 200) {\n        setLocal('token', '')\n        window.location.href = '/'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .seting-box {\n    .input-item {\n      margin-top: 44px;\n    }\n    .save-btn {\n      width: 80%;\n      margin: 20px auto ;\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}