{"remainingRequest":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js!/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daocloud_j/git/loderunner-vue-front/src/views/Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daocloud_j/git/loderunner-vue-front/src/views/Order.vue","mtime":1591819548000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHNIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL1NpbXBsZUhlYWRlcic7CmltcG9ydCB7IGdldE9yZGVyTGlzdCB9IGZyb20gJy4uL3NlcnZpY2Uvb3JkZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXR1czogJycsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgIHJlZnJlc2hpbmc6IGZhbHNlLAogICAgICBsaXN0OiBbXSwKICAgICAgcGFnZTogMQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHNIZWFkZXI6IHNIZWFkZXIKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIG1vdW50ZWQkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3JlZiwgZGF0YSwgbGlzdDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gbG9hZERhdGEkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldE9yZGVyTGlzdCh7CiAgICAgICAgICAgICAgICBwYWdlTnVtYmVyOiB0aGlzLnBhZ2UsCiAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgICAgICAgIGxpc3QgPSBfcmVmLmRhdGEubGlzdDsKICAgICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3QuY29uY2F0KGxpc3QpOwogICAgICAgICAgICAgIHRoaXMudG90YWxQYWdlID0gZGF0YS50b3RhbFBhZ2U7CiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZSA+PSBkYXRhLnRvdGFsUGFnZSkgdGhpcy5maW5pc2hlZCA9IHRydWU7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBvbkNoYW5nZVRhYjogZnVuY3Rpb24gb25DaGFuZ2VUYWIobmFtZSwgdGl0bGUpIHsKICAgICAgdGhpcy5zdGF0dXMgPSBuYW1lOwogICAgICB0aGlzLm9uUmVmcmVzaCgpOwogICAgfSwKICAgIGdvVG86IGZ1bmN0aW9uIGdvVG8oaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICJvcmRlci1kZXRhaWw/aWQ9Ii5jb25jYXQoaWQpCiAgICAgIH0pOwogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIG9uTG9hZDogZnVuY3Rpb24gb25Mb2FkKCkgewogICAgICBpZiAoIXRoaXMucmVmcmVzaGluZyAmJiB0aGlzLnBhZ2UgPCB0aGlzLnRvdGFsUGFnZSkgewogICAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZSArIDE7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJlZnJlc2hpbmcpIHsKICAgICAgICB0aGlzLmxpc3QgPSBbXTsKICAgICAgICB0aGlzLnJlZnJlc2hpbmcgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgfSwKICAgIG9uUmVmcmVzaDogZnVuY3Rpb24gb25SZWZyZXNoKCkgewogICAgICB0aGlzLnJlZnJlc2hpbmcgPSB0cnVlOwogICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgIHRoaXMub25Mb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,OAAA,MAAA,2BAAA;AACA,SAAA,YAAA,QAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,IAAA,EAAA,EALA;AAMA,MAAA,IAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAXA;AAcA,EAAA,OAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAEA,YAAA,CAAA;AAAA,gBAAA,UAAA,EAAA,KAAA,IAAA;AAAA,gBAAA,MAAA,EAAA,KAAA;AAAA,eAAA,CAFA;;AAAA;AAAA;AAEA,cAAA,IAFA,QAEA,IAFA;AAEA,cAAA,IAFA,QAEA,IAFA,CAEA,IAFA;AAGA,mBAAA,IAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA,mBAAA,SAAA,GAAA,IAAA,CAAA,SAAA;AACA,mBAAA,OAAA,GAAA,KAAA;AACA,kBAAA,KAAA,IAAA,IAAA,IAAA,CAAA,SAAA,EAAA,KAAA,QAAA,GAAA,IAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,IAAA,WARA,uBAQA,IARA,EAQA,KARA,EAQA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,SAAA;AACA,KAXA;AAYA,IAAA,IAZA,gBAYA,EAZA,EAYA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,4BAAA,EAAA;AAAA,OAAA;AACA,KAdA;AAeA,IAAA,MAfA,oBAeA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAjBA;AAkBA,IAAA,MAlBA,oBAkBA;AACA,UAAA,CAAA,KAAA,UAAA,IAAA,KAAA,IAAA,GAAA,KAAA,SAAA,EAAA;AACA,aAAA,IAAA,GAAA,KAAA,IAAA,GAAA,CAAA;AACA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,aAAA,IAAA,GAAA,EAAA;AACA,aAAA,UAAA,GAAA,KAAA;AACA;;AACA,WAAA,QAAA;AACA,KA3BA;AA4BA,IAAA,SA5BA,uBA4BA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,CAAA;AACA,WAAA,MAAA;AACA;AAlCA;AAjBA,CAAA","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"order-box\">\n    <s-header :name=\"'我的订单'\" :back=\"'/user'\"></s-header>\n    <van-tabs @change=\"onChangeTab\" :color=\"'#1baeae'\" :title-active-color=\"'#1baeae'\" class=\"order-tab\" v-model=\"status\">\n      <van-tab title=\"全部\" name=''></van-tab>\n      <van-tab title=\"待付款\" name=\"0\"></van-tab>\n      <van-tab title=\"待确认\" name=\"1\"></van-tab>\n      <van-tab title=\"待发货\" name=\"2\"></van-tab>\n      <van-tab title=\"已发货\" name=\"3\"></van-tab>\n      <van-tab title=\"交易完成\" name=\"4\"></van-tab>\n    </van-tabs>\n    <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\" class=\"order-list-refresh\">\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"onLoad\"\n        @offset=\"300\"\n      >\n        <div v-for=\"(item, index) in list\" :key=\"index\" class=\"order-item-box\" @click=\"goTo(item.orderNo)\">\n          <div class=\"order-item-header\">\n            <span>订单时间：{{ item.createTime }}</span>\n            <span>{{ item.orderStatusString }}</span>\n          </div>\n          <van-card\n            v-for=\"one in item.newBeeMallOrderItemVOS\"\n            :key=\"one.orderId\"\n            :num=\"one.goodsCount\"\n            :price=\"one.sellingPrice\"\n            desc=\"全场包邮\"\n            :title=\"one.goodsName\"\n            :thumb=\"`//api.newbee.ltd${one.goodsCoverImg}`\"\n          />\n        </div>\n      </van-list>\n    </van-pull-refresh>\n  </div>\n</template>\n\n<script>\nimport sHeader from '@/components/SimpleHeader'\nimport { getOrderList } from '../service/order'\n\nexport default {\n  data() {\n    return {\n      status: '',\n      loading: false,\n      finished: false,\n      refreshing: false,\n      list: [],\n      page: 1\n    }\n  },\n  components: {\n    sHeader\n  },\n  async mounted() {\n    // this.loadData()\n  },\n  methods: {\n    async loadData() {\n      const { data, data: { list } } = await getOrderList({ pageNumber: this.page, status: this.status })\n      this.list = this.list.concat(list)\n      this.totalPage = data.totalPage\n      this.loading = false;\n      if (this.page >= data.totalPage) this.finished = true\n    },\n    onChangeTab(name, title) {\n      this.status = name\n      this.onRefresh()\n    },\n    goTo(id) {\n      this.$router.push({ path: `order-detail?id=${id}` })\n    },\n    goBack() {\n      this.$router.go(-1)\n    },\n    onLoad() {\n      if (!this.refreshing && this.page < this.totalPage) {\n        this.page = this.page + 1\n      }\n      if (this.refreshing) {\n        this.list = [];\n        this.refreshing = false;\n      }\n      this.loadData()\n    },\n    onRefresh() {\n      this.refreshing = true\n      this.finished = false\n      this.loading = true\n      this.page = 1\n      this.onLoad()\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .order-box {\n    .order-header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 10000;\n      .fj();\n      .wh(100%, 44px);\n      line-height: 44px;\n      padding: 0 10px;\n      .boxSizing();\n      color: #252525;\n      background: #fff;\n      border-bottom: 1px solid #dcdcdc;\n      .order-name {\n        font-size: 14px;\n      }\n    }\n    .order-tab {\n      margin-top: 44px;\n      position: fixed;\n      left: 0;\n      z-index: 1000;\n      width: 100%;\n    }\n    .order-list-refresh {\n      margin-top: 68px;\n      .van-card__content {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n      }\n      .van-pull-refresh__head {\n        background: #f9f9f9;\n      }\n      .van-list {\n        min-height: calc(100vh - 88px);\n        background: #f9f9f9;\n        margin-top: 20px;\n      }\n      .order-item-box {\n        margin: 20px 10px;\n        background-color: #fff;\n        .order-item-header {\n          padding: 10px 20px 0 20px;\n          display: flex;\n          justify-content: space-between;\n        }\n        .van-card {\n          background-color: #fff;\n          margin-top: 0;\n        }\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}