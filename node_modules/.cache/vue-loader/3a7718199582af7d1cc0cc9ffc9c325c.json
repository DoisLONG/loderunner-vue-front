{"remainingRequest":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daocloud_j/git/loderunner-vue-front/src/components/ListScroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daocloud_j/git/loderunner-vue-front/src/components/ListScroll.vue","mtime":1591819548000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgLyoqCiAgICAgKiAxIOa7muWKqOeahOaXtuWAmeS8mua0vuWPkXNjcm9sbOS6i+S7tu+8jOS8muaIqua1geOAggogICAgICogMiDmu5rliqjnmoTml7blgJnlrp7ml7bmtL7lj5FzY3JvbGzkuovku7bvvIzkuI3kvJrmiKrmtYHjgIIKICAgICAqIDMg6Zmk5LqG5a6e5pe25rS+5Y+Rc2Nyb2xs5LqL5Lu277yM5Zyoc3dpcGXnmoTmg4XlhrXkuIvku43nhLbog73lrp7ml7bmtL7lj5FzY3JvbGzkuovku7YKICAgICAqLwogICAgcHJvYmVUeXBlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIC8vIOeCueWHu+WIl+ihqOaYr+WQpua0vuWPkWNsaWNr5LqL5Lu2CiAgICBjbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5piv5ZCm5byA5ZCv5qiq5ZCR5rua5YqoCiAgICBzY3JvbGxYOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8g5piv5ZCm5rS+5Y+R5rua5Yqo5LqL5Lu2CiAgICBsaXN0ZW5TY3JvbGw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDliJfooajnmoTmlbDmja4KICAgIHNjcm9sbERhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICAvLyDmmK/lkKbmtL7lj5Hmu5rliqjliLDlupXpg6jnmoTkuovku7bvvIznlKjkuo7kuIrmi4nliqDovb0KICAgIHB1bGx1cDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOaYr+WQpua0vuWPkemhtumDqOS4i+aLieeahOS6i+S7tu+8jOeUqOS6juS4i+aLieWIt+aWsAogICAgcHVsbGRvd246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDmmK/lkKbmtL7lj5HliJfooajmu5rliqjlvIDlp4vnmoTkuovku7YKICAgIGJlZm9yZVNjcm9sbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOW9k+aVsOaNruabtOaWsOWQju+8jOWIt+aWsHNjcm9sbOeahOW7tuaXtgogICAgcmVmcmVzaERlbGF5OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyDlnKggRE9NIOa4suafk+WujOavleWQjuWIneWni+WMliBiZXR0ZXItc2Nyb2xsCiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5pbml0U2Nyb2xsKCkKICAgIH0sIDIwKQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdFNjcm9sbCgpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLndyYXBwZXIpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyBiZXR0ZXItc2Nyb2xsIOWIneWni+WMlgogICAgICB0aGlzLnNjcm9sbCA9IG5ldyBCU2Nyb2xsKHRoaXMuJHJlZnMud3JhcHBlciwgewogICAgICAgIHByb2JlVHlwZTogdGhpcy5wcm9iZVR5cGUsCiAgICAgICAgY2xpY2s6IHRoaXMuY2xpY2ssCiAgICAgICAgc2Nyb2xsWDogdGhpcy5zY3JvbGxYCiAgICAgIH0pCiAgICAgIC8vIOaYr+WQpua0vuWPkea7muWKqOS6i+S7tgogICAgICBpZiAodGhpcy5saXN0ZW5TY3JvbGwpIHsKICAgICAgICBjb25zdCBzZWxmID0gdGhpcwogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGwnLCAocG9zaXRpb24pID0+IHsKICAgICAgICAgIHNlbGYuJGVtaXQoJ3Njcm9sbCcsIHBvc2l0aW9uKQogICAgICAgIH0pCiAgICAgIH0KICAgICAgaWYgKHRoaXMucHVsbHVwKSB7CiAgICAgICAgdGhpcy5zY3JvbGwub24oJ3Njcm9sbEVuZCcsICgpID0+IHsKICAgICAgICAgIC8vIOa7muWKqOWIsOW6lemDqAogICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnkgPD0gKHRoaXMuc2Nyb2xsLm1heFNjcm9sbFkgKyA1MCkpIHsKICAgICAgICAgICAgLy8g5rS+5Y+R5rua5Yqo5Yiw5bqV6YOo55qE5LqL5Lu2CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3Njcm9sbFRvRW5kJykKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICAgIGlmICh0aGlzLnB1bGxkb3duKSB7CiAgICAgICAgdGhpcy5zY3JvbGwub24oJ3RvdWNoZW5kJywgKHBvcykgPT4gewogICAgICAgICAgLy8g5LiL5ouJ5Yqo5L2cCiAgICAgICAgICBpZiAocG9zLnkgPiA1MCkgewogICAgICAgICAgICAvLyDkuIvmi4nliLfmlrAKICAgICAgICAgICAgdGhpcy4kZW1pdCgncHVsbGRvd24nKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KICAgICAgaWYgKHRoaXMuYmVmb3JlU2Nyb2xsKSB7CiAgICAgICAgdGhpcy5zY3JvbGwub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgKCkgPT4gewogICAgICAgICAgLy8g5YiX6KGo5rua5Yqo5YmN6Kem5Y+RCiAgICAgICAgICB0aGlzLiRlbWl0KCdiZWZvcmVTY3JvbGwnKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBkaXNhYmxlKCkgewogICAgICAvLyDku6PnkIYgYmV0dGVyLXNjcm9sbCDnmoQgZGlzYWJsZSDmlrnms5UKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZGlzYWJsZSgpCiAgICB9LAogICAgZW5hYmxlKCkgewogICAgICAgIC8vIOS7o+eQhiBiZXR0ZXItc2Nyb2xsIOeahCBlbmFibGUg5pa55rOVCiAgICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZW5hYmxlKCkKICAgIH0sCiAgICByZWZyZXNoKCkgewogICAgICAgIC8vIOS7o+eQhiBiZXR0ZXItc2Nyb2xsIOeahCByZWZyZXNoIOaWueazlQogICAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKQogICAgfSwKICAgIHNjcm9sbFRvKCkgewogICAgICAgIC8vIOS7o+eQhiBiZXR0ZXItc2Nyb2xsIOeahCBzY3JvbGxUbyDmlrnms5UKICAgICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUby5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKQogICAgfSwKICAgIHNjcm9sbFRvRWxlbWVudCgpIHsKICAgICAgICAvLyDku6PnkIYgYmV0dGVyLXNjcm9sbCDnmoQgc2Nyb2xsVG9FbGVtZW50IOaWueazlQogICAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnNjcm9sbFRvRWxlbWVudC5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrOaVsOaNrueahOWPmOWMlu+8jOmHjeaWsOiuoeeul+mrmOW6pgogICAgZGF0YSgpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnJlZnJlc2goKQogICAgICB9LCB0aGlzLnJlZnJlc2hEZWxheSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ListScroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListScroll.vue","sourceRoot":"src/components","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div ref=\"wrapper\" class=\"scroll-wrapper\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport BScroll from 'better-scroll'\nexport default {\n  props: {\n    /**\n     * 1 滚动的时候会派发scroll事件，会截流。\n     * 2 滚动的时候实时派发scroll事件，不会截流。\n     * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\n     */\n    probeType: {\n      type: Number,\n      default: 1\n    },\n    // 点击列表是否派发click事件\n    click: {\n      type: Boolean,\n      default: true\n    },\n    // 是否开启横向滚动\n    scrollX: {\n      type: Boolean,\n      default: false\n    },\n    // 是否派发滚动事件\n    listenScroll: {\n      type: Boolean,\n      default: false\n    },\n    // 列表的数据\n    scrollData: {\n      type: Array,\n      default: null\n    },\n    // 是否派发滚动到底部的事件，用于上拉加载\n    pullup: {\n      type: Boolean,\n      default: false\n    },\n    // 是否派发顶部下拉的事件，用于下拉刷新\n    pulldown: {\n      type: Boolean,\n      default: false\n    },\n    // 是否派发列表滚动开始的事件\n    beforeScroll: {\n      type: Boolean,\n      default: false\n    },\n    // 当数据更新后，刷新scroll的延时\n    refreshDelay: {\n      type: Number,\n      default: 20\n    }\n  },\n  mounted() {\n    // 在 DOM 渲染完毕后初始化 better-scroll\n    setTimeout(() => {\n      this.initScroll()\n    }, 20)\n  },\n  methods: {\n    initScroll() {\n      if (!this.$refs.wrapper) {\n        return\n      }\n      // better-scroll 初始化\n      this.scroll = new BScroll(this.$refs.wrapper, {\n        probeType: this.probeType,\n        click: this.click,\n        scrollX: this.scrollX\n      })\n      // 是否派发滚动事件\n      if (this.listenScroll) {\n        const self = this\n        this.scroll.on('scroll', (position) => {\n          self.$emit('scroll', position)\n        })\n      }\n      if (this.pullup) {\n        this.scroll.on('scrollEnd', () => {\n          // 滚动到底部\n          if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\n            // 派发滚动到底部的事件\n            this.$emit('scrollToEnd')\n          }\n        })\n      }\n      if (this.pulldown) {\n        this.scroll.on('touchend', (pos) => {\n          // 下拉动作\n          if (pos.y > 50) {\n            // 下拉刷新\n            this.$emit('pulldown')\n          }\n        })\n      }\n      if (this.beforeScroll) {\n        this.scroll.on('beforeScrollStart', () => {\n          // 列表滚动前触发\n          this.$emit('beforeScroll')\n        })\n      }\n    },\n    disable() {\n      // 代理 better-scroll 的 disable 方法\n      this.scroll && this.scroll.disable()\n    },\n    enable() {\n        // 代理 better-scroll 的 enable 方法\n        this.scroll && this.scroll.enable()\n    },\n    refresh() {\n        // 代理 better-scroll 的 refresh 方法\n        this.scroll && this.scroll.refresh()\n    },\n    scrollTo() {\n        // 代理 better-scroll 的 scrollTo 方法\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\n    },\n    scrollToElement() {\n        // 代理 better-scroll 的 scrollToElement 方法\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\n    }\n  },\n  watch: {\n    // 监听数据的变化，重新计算高度\n    data() {\n      setTimeout(() => {\n          this.refresh()\n      }, this.refreshDelay)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .scroll-wrapper {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n</style>\n"]}]}