{"remainingRequest":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daocloud_j/git/loderunner-vue-front/src/views/Login.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/daocloud_j/git/loderunner-vue-front/src/views/Login.vue","mtime":1591819548000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daocloud_j/git/loderunner-vue-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxvZ2luIHsKICAubG9nbyB7CiAgICB3aWR0aDogMTIwcHg7CiAgICBoZWlnaHQ6IDEyMHB4OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBtYXJnaW46IDgwcHggYXV0byAwcHg7CiAgfQogIC5sb2dpbi1ib2R5IHsKICAgIHBhZGRpbmc6IDAgMjBweDsKICB9CiAgLmxvZ2luIHsKICAgIC5saW5rLXJlZ2lzdGVyIHsKICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICBjb2xvcjogIzE5ODlmYTsKICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgfQogIH0KICAucmVnaXN0ZXIgewogICAgLmxpbmstbG9naW4gewogICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgIGNvbG9yOiAjMTk4OWZhOwogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB9CiAgfQogIC52ZXJpZnktYmFyLWFyZWEgewogICAgbWFyZ2luLXRvcDogMjRweDsKICAgIC52ZXJpZnktbGVmdC1iYXIgewogICAgICBib3JkZXItY29sb3I6ICMxYmFlYWU7CiAgICB9CiAgICAudmVyaWZ5LW1vdmUtYmxvY2sgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWJhZWFlOwogICAgICBjb2xvcjogI2ZmZjsKICAgIH0KICB9CiAgLnZlcmlmeSB7CiAgICA+ZGl2IHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICB9CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAuY2VyaWZ5LWNvZGUtcGFuZWwgewogICAgICBtYXJnaW4tdG9wOiAxNnB4OwogICAgfQogICAgLnZlcmlmeS1jb2RlIHsKICAgICAgd2lkdGg6IDQwJSFpbXBvcnRhbnQ7CiAgICAgIGZsb2F0OiBsZWZ0IWltcG9ydGFudDsKICAgIH0KICAgIC52ZXJpZnktY29kZS1hcmVhIHsKICAgICAgZmxvYXQ6IGxlZnQhaW1wb3J0YW50OwogICAgICB3aWR0aDogNTQlIWltcG9ydGFudDsKICAgICAgbWFyZ2luLWxlZnQ6IDE0cHghaW1wb3J0YW50OwogICAgICAudmFyaWZ5LWlucHV0LWNvZGUgewogICAgICAgIHdpZHRoOiA5MHB4OwogICAgICAgIGhlaWdodDogMzhweCFpbXBvcnRhbnQ7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U5ZTllOTsKICAgICAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7CiAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICB9CiAgICAgIC52ZXJpZnktY2hhbmdlLWFyZWEgewogICAgICAgIGxpbmUtaGVpZ2h0OiA0NHB4OwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"login\">\n    <s-header :name=\"type == 'login' ? '登录' : '注册'\" :back=\"'/home'\"></s-header>\n    <img class=\"logo\" src=\"//s.weituibao.com/1582958061265/mlogo.png\" alt=\"\">\n    <div v-if=\"type == 'login'\" class=\"login-body login\">\n      <van-form @submit=\"onSubmit\">\n        <van-field\n          v-model=\"username\"\n          name=\"username\"\n          label=\"用户名\"\n          placeholder=\"用户名\"\n          :rules=\"[{ required: true, message: '请填写用户名' }]\"\n        />\n        <van-field\n          v-model=\"password\"\n          type=\"password\"\n          name=\"password\"\n          label=\"密码\"\n          placeholder=\"密码\"\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n        <div class=\"verify\">\n          <Verify ref=\"loginVerifyRef\" @error=\"error\" :showButton=\"false\" @success=\"success\" :width=\"'100%'\" :height=\"'40px'\" :fontSize=\"'16px'\" :type=\"2\"></Verify>\n        </div>\n        <div style=\"margin: 16px;\">\n          <div class=\"link-register\" @click=\"toggle('register')\">立即注册</div>\n          <van-button round block type=\"info\" color=\"#1baeae\" native-type=\"submit\">登录</van-button>\n        </div>\n      </van-form>\n    </div>\n    <div v-else class=\"login-body register\">\n      <van-form @submit=\"onSubmit\">\n        <van-field\n          v-model=\"username1\"\n          name=\"username1\"\n          label=\"用户名\"\n          placeholder=\"用户名\"\n          :rules=\"[{ required: true, message: '请填写用户名' }]\"\n        />\n        <van-field\n          v-model=\"password1\"\n          type=\"password\"\n          name=\"password1\"\n          label=\"密码\"\n          placeholder=\"密码\"\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n        <div class=\"verify\">\n          <Verify ref=\"loginVerifyRef\" @error=\"error\" :showButton=\"false\" @success=\"success\" :width=\"'100%'\" :height=\"'40px'\" :fontSize=\"'16px'\" :type=\"2\"></Verify>\n        </div>\n        <div style=\"margin: 16px;\">\n          <div class=\"link-login\" @click=\"toggle('login')\">已有登录账号</div>\n          <van-button round block type=\"info\" color=\"#1baeae\" native-type=\"submit\">注册</van-button>\n        </div>\n      </van-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport sHeader from '@/components/SimpleHeader'\nimport { login, register, getUserInfo } from '../service/user'\nimport { setLocal, getLocal } from '@/common/js/utils'\nimport { Toast } from 'vant'\nimport Verify from 'vue2-verify'\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      username1: '',\n      password1: '',\n      type: 'login',\n      verify: false\n    }\n  },\n  components: {\n    sHeader,\n    Verify\n  },\n  methods: {\n    dealTriVer() {\n      this.$refs.loginVerifyRef.$refs.instance.checkCode()\n    },\n    toggle(v) {\n      this.verify = false\n      this.type = v\n    },\n    async onSubmit(values) {\n      this.dealTriVer()\n      if (!this.verify) {\n        Toast.fail('验证码未填或填写错误!')\n        return\n      }\n      if (this.type == 'login') {\n        const { data, resultCode } = await login({\n          \"loginName\": values.username,\n          \"passwordMd5\": this.$md5(values.password)\n        })\n        setLocal('token', data)\n        window.location.href = '/'\n      } else {\n        const { data } = await register({\n          \"loginName\": values.username1,\n          \"password\": values.password1\n        })\n        Toast.success('注册成功')\n        this.type = 'login'\n      }\n    },\n    success(obj) {\n      this.verify = true\n      // 回调之后，刷新验证码\n      obj.refresh()\n    },\n    error(obj) {\n      this.verify = false\n      // 回调之后，刷新验证码\n      obj.refresh()\n    }\n  },\n}\n</script>\n\n<style lang=\"less\">\n  .login {\n    .logo {\n      width: 120px;\n      height: 120px;\n      display: block;\n      margin: 80px auto 0px;\n    }\n    .login-body {\n      padding: 0 20px;\n    }\n    .login {\n      .link-register {\n        font-size: 14px;\n        margin-bottom: 20px;\n        color: #1989fa;\n        display: inline-block;\n      }\n    }\n    .register {\n      .link-login {\n        font-size: 14px;\n        margin-bottom: 20px;\n        color: #1989fa;\n        display: inline-block;\n      }\n    }\n    .verify-bar-area {\n      margin-top: 24px;\n      .verify-left-bar {\n        border-color: #1baeae;\n      }\n      .verify-move-block {\n        background-color: #1baeae;\n        color: #fff;\n      }\n    }\n    .verify {\n      >div {\n        width: 100%;\n      }\n      display: flex;\n      justify-content: center;\n      .cerify-code-panel {\n        margin-top: 16px;\n      }\n      .verify-code {\n        width: 40%!important;\n        float: left!important;\n      }\n      .verify-code-area {\n        float: left!important;\n        width: 54%!important;\n        margin-left: 14px!important;\n        .varify-input-code {\n          width: 90px;\n          height: 38px!important;\n          border: 1px solid #e9e9e9;\n          padding-left: 10px;\n          font-size: 16px;\n        }\n        .verify-change-area {\n          line-height: 44px;\n        }\n      }\n    }\n  }\n</style>\n"]}]}